{
  "includeFiles":[
  ],
  "metadata":{
    "callbacks":{
      "entries":[
        {
          "amiscript":[
            "TreePanelColumn agc = sampleTreePanel.getColumnById(\"abc\");\n",
            "agc.getFormulaNames();\n",
            "agc.getFormula(\"color\").setAmiScript(\"\\\"#09961E\\\"\");"
          ],
          "linkedVariables":[
            {
              "ari":"PANEL:sampleTreePanel",
              "varName":"sampleTreePanel"
            }
          ],
          "name":"onAmiJsCallbackInTitlebar"
        }
      ]
    },
    "customPrefsImportMode":"reject",
    "dm":{
      "dms":[
        {
          "callbacks":{
            "entries":[
              {
                "amiscript":[
                  "{\n",
                  "  CREATE TABLE Sample(Symbol String, Quantity Long);\n",
                  "  INSERT INTO Sample Values(\"MSFT\",100),(\"MSFT\",110),(\"MSFT\",120),(\"IBM\",200),(\"IBM\",220),(\"AAPL\",400);\n",
                  "}\n"
                ],
                "hasDatamodel":true,
                "linkedVariables":[
                ],
                "name":"onProcess",
                "schema":{
                  "tbl":[
                    {
                      "cols":[
                        {
                          "nm":"Symbol",
                          "tp":"String"
                        },
                        {
                          "nm":"Quantity",
                          "tp":"Long"
                        }
                      ],
                      "nm":"Sample",
                      "oc":"ask"
                    }
                  ]
                }
              }
            ]
          },
          "lbl":"datamodel",
          "queryMode":"startup",
          "test_input_type":"OPEN",
          "test_input_vars":"String WHERE=\"true\";"
        }
      ]
    },
    "fileVersion":4,
    "menubarPosition":"top",
    "rt":{
    },
    "stm":{
      "styles":[
        {
          "id":"LAYOUT_DEFAULT",
          "lb":"Layout Default",
          "pt":"DEFAULT"
        }
      ]
    },
    "transientIdPrefix":"TRANSIENT_"
  },
  "portletConfigs":[
    {
      "portletBuilderId":"amidesktop",
      "portletConfig":{
        "amiPanelId":"@DESKTOP",
        "amiStyle":{
          "pt":"LAYOUT_DEFAULT"
        },
        "windows":[
          {
            "header":true,
            "heightDflt":463,
            "hidden":false,
            "leftDflt":160,
            "portlet":"Div1",
            "pos":0,
            "stateDflt":"flt",
            "title":"Custom Table Column",
            "topDflt":180,
            "widthDflt":956,
            "zindexDflt":3
          },
          {
            "header":true,
            "heightDflt":463,
            "hidden":false,
            "leftDflt":560,
            "portlet":"Div2",
            "pos":1,
            "stateDflt":"flt",
            "title":"Custom Tree Column",
            "topDflt":140,
            "widthDflt":956,
            "zindexDflt":5
          }
        ]
      }
    },
    {
      "portletBuilderId":"div",
      "portletConfig":{
        "amiPanelId":"Div1",
        "amiStyle":{
          "pt":"LAYOUT_DEFAULT"
        },
        "child1":"sampleTablePanel",
        "child2":"tableCustomColumn",
        "dir":"v",
        "locked":false,
        "offset":0.28765,
        "upid":"Div1"
      }
    },
    {
      "portletBuilderId":"div",
      "portletConfig":{
        "amiPanelId":"Div2",
        "amiStyle":{
          "pt":"LAYOUT_DEFAULT"
        },
        "child1":"sampleTreePanel",
        "child2":"treeCustomColumn",
        "dir":"v",
        "locked":false,
        "offset":0.32922,
        "upid":"Div2"
      }
    },
    {
      "portletBuilderId":"amistatictable",
      "portletConfig":{
        "amiCols":[
          {
            "fm":"Symbol",
            "id":"Symbol",
            "location":0,
            "tl":"Symbol",
            "tp":"text",
            "width":53
          },
          {
            "fm":"Quantity",
            "id":"Quantity",
            "location":1,
            "pc":0,
            "tl":"Quantity",
            "tp":"numeric",
            "width":58
          },
          {
            "fm":"Quantity+2",
            "id":"agc",
            "location":2,
            "pc":0,
            "tl":"Quantity2",
            "tp":"text",
            "width":65
          },
          {
            "id":"D",
            "width":100
          }
        ],
        "amiPanelId":"sampleTablePanel",
        "amiStyle":{
          "pt":"LAYOUT_DEFAULT"
        },
        "amiTitle":"Sample",
        "curtimeUpdateFrequency":1000,
        "dm":[
          {
            "dmadn":"datamodel",
            "dmtbid":[
              "Sample"
            ]
          }
        ],
        "dynamicColumns":"false",
        "editDblClk":true,
        "editInplace":false,
        "editMenuTitle":"Edit Row(s)",
        "editMode":0,
        "editRerunDM":true,
        "filters":{
        },
        "pinCnt":0,
        "rollupEnabled":false,
        "scrollToBottomOnAppend":false,
        "showCommandMenu":true,
        "showLastRuntime":true,
        "titlePnl":{
          "title":"Sample"
        },
        "upid":"datamodel",
        "varTypes":{
          "Quantity":"Long",
          "Symbol":"String"
        }
      }
    },
    {
      "portletBuilderId":"amitree",
      "portletConfig":{
        "amiPanelId":"sampleTreePanel",
        "amiStyle":{
          "pt":"LAYOUT_DEFAULT"
        },
        "amiTitle":"Sample",
        "dm":[
          {
            "dmadn":"datamodel",
            "dmtbid":[
              "Sample"
            ]
          }
        ],
        "filters":{
        },
        "formulas":[
          {
            "d":"Symbol",
            "f":"Symbol",
            "id":"symbol",
            "l":false
          },
          {
            "d":"Quantity",
            "f":"Quantity",
            "id":"quantity",
            "l":false
          }
        ],
        "hcols":[
        ],
        "pins":0,
        "rn":null,
        "sm":1,
        "tcoln":"",
        "tcolw":103,
        "titlePnl":{
          "title":"Sample"
        },
        "upid":"datamodel1",
        "varTypes":{
          "Quantity":"Long",
          "Symbol":"String"
        },
        "vcols":[
        ]
      }
    },
    {
      "portletBuilderId":"amiform",
      "portletConfig":{
        "amiPanelId":"tableCustomColumn",
        "amiStyle":{
          "pt":"LAYOUT_DEFAULT"
        },
        "fields":[
          {
            "callbacks":{
              "entries":[
                {
                  "amiscript":[
                    "FormPanel fp = layout.getPanel(\"tableCustomColumn\");\n",
                    "String columnName = fp.getFieldValue(\"columnNameText\");\n",
                    "String display = fp.getFieldValue(\"displayText\");\n",
                    "String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n",
                    "String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n",
                    "\n",
                    "TablePanel tp = layout.getPanel(\"sampleTablePanel\");\n",
                    "tp.addColumn(columnName, \"numeric\");\n",
                    "TablePanelColumn tpc = tp.getColumn(columnName);\n",
                    "tpc.getFormula(\"display\").setAmiScript(display);\n",
                    "tpc.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n",
                    "tpc.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");\n"
                  ],
                  "linkedVariables":[
                  ],
                  "name":"onChange"
                }
              ]
            },
            "heightPx":20,
            "l":"Apply",
            "leftPosPx":440,
            "n":"applyButton",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"buttonField",
            "topPosPx":60,
            "widthPx":200,
            "zidx":2
          },
          {
            "heightPx":20,
            "l":"Background Color",
            "leftPosPx":140,
            "n":"backgroundColorPicker",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"colorpicker",
            "topPosPx":140,
            "widthPx":200,
            "zidx":5
          },
          {
            "heightPx":20,
            "l":"Column Name",
            "leftPosPx":140,
            "n":"columnNameText",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"textField",
            "topPosPx":20,
            "widthPx":200,
            "zidx":3
          },
          {
            "heightPx":20,
            "l":"Display",
            "leftPosPx":140,
            "n":"displayText",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"textField",
            "topPosPx":60,
            "widthPx":200,
            "zidx":1
          },
          {
            "heightPx":20,
            "l":"Foreground Color",
            "leftPosPx":140,
            "n":"foregroundColorPicker",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"colorpicker",
            "topPosPx":100,
            "widthPx":200,
            "zidx":4
          }
        ],
        "snap":20,
        "upid":"Html1"
      }
    },
    {
      "portletBuilderId":"amiform",
      "portletConfig":{
        "amiPanelId":"treeCustomColumn",
        "amiStyle":{
          "pt":"LAYOUT_DEFAULT"
        },
        "fields":[
          {
            "callbacks":{
              "entries":[
                {
                  "amiscript":[
                    "FormPanel fp = layout.getPanel(\"treeCustomColumn\");\n",
                    "String columnName = fp.getFieldValue(\"columnNameText\");\n",
                    "String display = fp.getFieldValue(\"displayText\");\n",
                    "String foregroundColor = fp.getFieldValue(\"foregroundColorPicker\");\n",
                    "String backgroundColor = fp.getFieldValue(\"backgroundColorPicker\");\n",
                    "\n",
                    "TreePanel tp = layout.getPanel(\"sampleTreePanel\");\n",
                    "tp.addColumn(columnName, \"numeric\", display, 0);\n",
                    "TreePanelColumn tpc2 = tp.getColumn(columnName);\n",
                    "tpc2.getFormula(\"backgroundColor\").setAmiScript(\"\\\"${backgroundColor}\\\"\");\n",
                    "tpc2.getFormula(\"color\").setAmiScript(\"\\\"${foregroundColor}\\\"\");"
                  ],
                  "linkedVariables":[
                  ],
                  "name":"onChange"
                }
              ]
            },
            "heightPx":20,
            "l":"Apply",
            "leftPosPx":440,
            "n":"applyButton",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"buttonField",
            "topPosPx":60,
            "widthPx":200,
            "zidx":2
          },
          {
            "heightPx":20,
            "l":"Background Color",
            "leftPosPx":140,
            "n":"backgroundColorPicker",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"colorpicker",
            "topPosPx":140,
            "widthPx":200,
            "zidx":5
          },
          {
            "heightPx":20,
            "l":"Column Name",
            "leftPosPx":140,
            "n":"columnNameText",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"textField",
            "topPosPx":20,
            "widthPx":200,
            "zidx":3
          },
          {
            "heightPx":20,
            "l":"Display",
            "leftPosPx":140,
            "n":"displayText",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"textField",
            "topPosPx":60,
            "widthPx":200,
            "zidx":1
          },
          {
            "heightPx":20,
            "l":"Foreground Color",
            "leftPosPx":140,
            "n":"foregroundColorPicker",
            "style":{
              "pt":"LAYOUT_DEFAULT"
            },
            "t":"colorpicker",
            "topPosPx":100,
            "widthPx":200,
            "zidx":4
          }
        ],
        "snap":20,
        "upid":"Html3"
      }
    }
  ]
}