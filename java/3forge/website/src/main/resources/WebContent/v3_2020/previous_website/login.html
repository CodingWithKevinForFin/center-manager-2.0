<!DOCTYPE html>
<html lang="en" class="loader">
<f1:secure/>
<head>
   		<!-- Google Tag Manager -->
		<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
		new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
		j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
		'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
		})(window,document,'script','dataLayer','GTM-KP5MMRBN');</script>
		<!-- End Google Tag Manager -->
		<script src="cookiehub.js"></script>
	<title>Login</title>
	<f1:include page="'_/head.htm'"/>
</head>
<body>
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KP5MMRBN"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
	<div id="wrapper">
		<f1:include page="'_/header.html'"/>
		<main id="main">
			<section class="visual-section">
				<div class="container">
					<div class="decor decor-outline light-yellow"></div>
					<div class="decor decor-filled"></div>
					<div class="visual">
					</div>
				</div>
			</section>
			<section class="quote-section viewport-section">
				<div class="container">
					<h2 class="h2">Account access</h2>
				</div>
			</section>
			<section class="img-text-section">
				<div class="container">
					<div class="form-container login-container">
						<form action="/login" class="center" method="post" accept-charset="UTF-8" role="form">
							<div>
								  <label for="InputPassword" style="color: red;"><f1:out value="${login_error_message}"/></label>
								  <label for="InputPassword" style="color: blue;"><f1:out value="${login_message}"/></label>
								  <input type="hidden" name="loginToken" value="<f1:embed java="com.f1.website.LoginHttpHandler.generateToken(request);"/>">
								  <input type="text" name="username" placeholder="Email" class="inputbox">
								  <input type="password" name="password" class="inputbox" placeholder="Password" autocomplete="current-password">
							</div>
							<div class="mt-20 dblock clearboth">
								  <button type="submit" name="signin" class="btn">Sign In</button><br><br>
								  <label><a href="forgot_password.html" class="forgot-password">I forgot my password</a></label><br>
							</div>
						</form>
					</div>	
				</div>
			</section>
		</main>
		<f1:include page="'_/footer.html'"/>
	</div>
	<script type="text/javascript">
		// highlight current page in navigation
		$("#nav-item-login").toggleClass("active");
	</script>
	<script src="cookiebutton.js"></script>
	<script>
			// Function to set a custom cookie indicating the user's choice regarding cookies
			function setCookieHubCookie(value) {
			    // Set a cookie named 'cookiehub' with the provided value
			    document.cookie = 'cookiehub=' + value + '; expires=' + calculateExpirationDate() + '; path=/';
			}
			
			// Function to calculate the expiration date for the cookie (30 days from the current day)
			function calculateExpirationDate() {
			    var currentDate = new Date();
			    var expirationDate = new Date(currentDate.getTime() + (30 * 24 * 60 * 60 * 1000)); // 30 days in milliseconds
			    return expirationDate.toUTCString();
			}
			
			// Check if the custom cookie indicating the user's choice regarding cookies is set
			window.addEventListener('load', function() {
			    var cookieValue = getCookie('cookiehub');
			    if (!cookieValue) {
			        // If the custom cookie is not set, display the CookieHub banner
			        var cpm = {};
			        window.cookiehub.load(cpm);
			    }
			});
			
			// Set the custom cookie when the "Accept All Cookies" or "Deny All Cookies" button is clicked
			document.addEventListener('click', function(event) {
			    var target = event.target;
			    if (target.classList.contains('ch2-allow-all-btn')) {
			        // Set the custom cookie to indicate acceptance of cookies
			        setCookieHubCookie('allow');
			    } else if (target.classList.contains('ch2-deny-all-btn')) {
			        // Set the custom cookie to indicate denial of all cookies
			        setCookieHubCookie('deny');
			    }
			});
	</script>
</body>
</html>

<f1:set scope="session" var="login_error_message"/>
<f1:set scope="session" var="login_message"/>