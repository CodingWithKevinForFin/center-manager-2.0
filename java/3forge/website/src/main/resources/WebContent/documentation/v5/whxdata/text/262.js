rh._.exports({"0":[["Custom Triggers (Ami One, Ami Center)"]],"1":[["\n  ","\n    ","\n      ","⚠"," This page has been deprecated. Please visit ","New 3forge Documentation"," for updated content.","\n    ","\n  ","\n  ","\n  "],["\n  "],["\n  ","AMI's in-memory database is a comprehensive and realtime SQL storage engine that can be extended using Java Plugins.  The trigger plugin is a factory used to create triggers as defined in the imdb schema.","\n  "," ","\n  "," ","\n  "],["\n  ","Consider the Ami Script example:                                                                                                                                       ","\n  ","CREATE TRIGGER mytrigger OFTYPE ","MyRiskCalc"," ON myTable USE myoption=\"some_value\"","\n  "," ","\n  ","The above sample command will cause AMI to:","\n  ","\n    ","\n      ","Look for a registered AmiTriggerFactory with the id \"MyRiskCalc\".  "," ","\n    ","\n    ","\n      ","Call newTrigger()  on the factory. ","\n    ","\n    ","\n      ","Call startup(...) on the returned, newly generated trigger. Note that the startup will contain the necessary bindings:"," ","\n    ","\n  ","\n  ","a."," "," Trigger name (ex: ","mytrigger",")"," ","\n  ","b."," "," Options (ex: ","myoption=some_value",")"," ","\n  ","c."," "," Target tables (ex: ","myTable",")"," ","\n  "," ","\n  "," ","\n  "],["\n  ","com.f1.ami.center.triggers.AmiTriggerFactory","\n  "," ","\n  "," ","\n  "],["\n  ","ami.db.trigger.plugins=","comma_delimited_list_of_fully_qualified_java_class_names","\n  "," ","\n  "],["\n  ","package"," ","com.demo",";","\n  "," ","\n  ","import"," ","java.util.ArrayList;","\n  ","import"," ","java.util.Collection;","\n  ","import"," ","java.util.List;","\n  "," ","\n  ","import"," ","com.f1.ami.amicommon.AmiFactoryOption",";","\n  ","import","com.f1.ami.center.triggers.AmiTrigger;","\n  ","import"," ","com.f1.ami.center.triggers.AmiTriggerFactory",";","\n  ","import","com.f1.anvil.triggers.AnvilTriggerOrdersBySymSide;","\n  ","import","com.f1.container.ContainerTools;","\n  ","import","com.f1.utils.PropertyController;","\n  "," ","\n  ","public"," ","class"," ","TestTriggerFactory"," ","implements"," ","AmiTriggerFactory"," {","\n  ","       "," ","private"," ","List<","AmiFactoryOption",">"," ","options"," ","="," ","new"," ","ArrayList<","AmiFactoryOption",">();","\n  "," ","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","Collection<","AmiFactoryOption","> ","getAllowedOptions()"," {","\n  ","               "," ","return"," ","options",";","\n  ","        }","\n  "," ","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","void"," ","init(ContainerTools"," ","tools",", PropertyController"," ","props",")"," ","{","\n  "," ","\n  ","        }","\n  "," ","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","String ","getPluginId()"," {","\n  ","               "," ","return"," ","\"TESTTRIGGER\"",";","\n  ","        }","\n  "," ","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","AmiTrigger ","newTrigger()"," {","\n  ","               "," ","return"," ","new"," ","TestTrigger","();","\n  ","        }","\n  ","}","\n  "," ","\n  ","package"," ","com.demo",";","\n  "," ","\n  ","import","com.f1.ami.center.table.AmiPreparedQuery;","\n  ","import","com.f1.ami.center.table.AmiPreparedQueryCompareClause;","\n  ","import","com.f1.ami.center.table.AmiPreparedRow;","\n  ","import","com.f1.ami.center.table.AmiRow;","\n  ","import","com.f1.ami.center.table.AmiTable;","\n  ","import","com.f1.ami.center.triggers.AmiAbstractTrigger",";","\n  "," ","\n  ","public"," ","class"," ","TestTrigger"," ","extends"," ","AmiAbstractTrigger"," {","\n  "," ","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","void"," ","onStartup()"," {","\n  ","               "," ","// TOD Auto-generated method stub","\n  ","        }","\n  "," ","\n  "," ","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","void"," ","onInserted(AmiTable"," ","table",", AmiRow"," ","row",")"," ","{","\n  ","               "," ","//"," ","TODO"," ","Auto-generated method stub","\n  ","        }","\n  "," ","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","boolean"," ","onInserting(AmiTable"," ","table",", AmiRow"," ","row",")"," ","{","\n  ","               "," ","//"," ","TODO"," ","Auto-generated method stub","\n  ","               "," ","return"," ","super",".onInserting(","table",","," ","row",");","\n  ","        }","\n  "," ","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","void"," ","onUpdated(AmiTable"," ","table",", AmiRow"," ","row",")"," ","{","\n  ","               "," ","//"," ","TODO"," ","Auto-generated method stub","\n  ","        }","\n  ","       ","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","boolean"," ","onUpdating(AmiTable"," ","table",", AmiRow"," ","row",")"," ","{","\n  ","               "," ","//"," ","TODO"," ","Auto-generated method stub","\n  ","               "," ","return"," ","super",".onUpdating(","table",","," ","row",");","\n  ","        }","\n  ","       "," ","@Override","\n  ","       "," ","public"," ","boolean"," ","onDeleting(AmiTable"," ","table",", AmiRow"," ","row",")"," ","{","\n  ","               "," ","//"," ","TODO"," ","Auto-generated method stub","\n  ","               "," ","return"," ","super",".onDeleting(","table",","," ","row",");","\n  ","        }","\n  ","       ","\n  ","}"," ","\n  "," ","\n  "," ","\n  "],["\n  ","ami.db.trigger.plugins=com.demo.TestTriggerFactory","\n\n","\n    "," ","\n  ","\n\n"]],"2":[["Custom Triggers (AMI One, AMI Center)"]],"3":[["Overview"],["Example"],["Java interface (see javadoc for details)"," "," "],["Property name"],["Example – Java Code"," "," "],["Example - Configuration"]],"id":"262"})