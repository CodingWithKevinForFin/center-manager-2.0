rh._.exports({"0":[["Custom Timer (Ami One, Ami Center)"]],"1":[["\n  ","\n    ","\n      ","⚠"," This page has been deprecated. Please visit ","New 3forge Documentation"," for updated content.","\n    ","\n  ","\n  ","\n"],["\n"],["\n","AMI's in-memory database is a comprehensive \n and realtime SQL storage engine that can be extended using Java Plugins.  The \n timer plugin is a factory used to create timers as defined in the imdb \n schema.","\n"," ","\n"," ","\n"],["\n","Consider the Ami Script example:","\n"," ","\n","CREATE \n TIMER mytimer OFTYPE ","MyStartupTimer"," ON \"0 0 0 0 MON-FRI \n UTC \" USE myoption=\"some_value\"","\n"," ","\n","The above sample command will cause \n AMI to:","\n"," ","\n","\n\t","Look \n\t for a registered AmiStoredProcFactory with the id \"MyStartupTimer\".  "," ","\n\t","Call \n\t newTimer()  on the factory. "," ","\n\t","Call \n\t startup(...) on the returned, newly generated storedproc. Note that \n\t the startup will contain the necessary bindings:"," ","\n","\n","a."," "," Timer \n name (ex: ","mytimer",")"," ","\n","b."," "," Options \n (ex: ","myoption=some_value",")"," ","\n","c."," ","  Schedule, \n Priority, etc."," ","\n"," ","\n"," ","\n"],["\n","com.f1.ami.center.timers.AmiTimerFactory","\n"," ","\n"," ","\n"],["\n","ami.db.timer.plugins=","comma_delimited_list_of_fully_qualified_java_class_names","\n"," ","\n"," ","\n"],["\n","package"," \n ","com.demo",";","\n"," ","\n","import"," \n java.util.ArrayList;","\n","import"," \n java.util.Collection;","\n","import"," \n java.util.List;","\n"," ","\n","import"," \n ","com.f1.ami.amicommon.AmiFactoryOption",";","\n","import"," \n com.f1.container.ContainerTools;","\n","import"," \n com.f1.utils.PropertyController;","\n"," ","\n","public"," \n ","class"," ","TestTimerFactory"," \n ","implements"," \n ","AmiTimerFactory"," {","\n"," ","\n","       "," ","private"," List<","AmiFactoryOption","> \n ","options"," = ","new"," \n ArrayList<","AmiFactoryOption",">();","\n"," ","\n","       "," ","public"," TestTimerFactory() \n {","\n","               "," ","//"," ","TODO","Auto-generated method stub","\n","       "," }","\n"," ","\n","       "," ","@Override","\n","       "," ","public"," ","void"," ","init(ContainerTools"," \n ","tools",", PropertyController"," \n ","props",")"," {","\n","               "," ","//"," ","TODO","Auto-generated method stub","\n","       "," }","\n"," ","\n","       "," ","@Override","\n","       "," ","public"," Collection<","AmiFactoryOption","> \n ","getAllowedOptions()"," {","\n","               "," ","return"," ","options",";","\n","       "," }","\n"," ","\n","       "," ","@Override","\n","       "," ","public"," ","AmiTimer"," \n ","newTimer()"," {","\n","               "," ","return"," ","new"," ","TestTimer","();","\n","       "," }","\n"," ","\n","       "," ","@Override","\n","       "," ","public"," String \n ","getPluginId()"," {","\n","               "," ","return"," ","\"TESTTIMER\"",";","\n","       "," }","\n"," ","\n","}","\n"," ","\n","package"," \n ","com.demo",";","\n"," ","\n","import"," \n com.f1.ami.center.table.AmiImdb;","\n"," ","\n","public"," \n ","class"," ","TestTimer"," \n ","extends"," \n ","AmiAbstractTimer"," {","\n","       "," ","@Override","\n","       "," ","public"," ","void"," ","onTimer(","long"," ","scheduledTime",")"," {","\n","               "," ","//"," ","TODO","Auto-generated method stub","\n","       "," }","\n"," ","\n","       "," ","@Override","\n","       "," ","public"," ","void"," ","onSchemaChanged(AmiImdb"," \n ","imdb",")"," {","\n","               "," ","//"," ","TODO","Auto-generated method stub","\n","       "," }","\n"," ","\n","       "," ","@Override","\n","       "," ","protected"," ","void"," ","onStartup()"," \n {","\n","               "," ","//"," ","TODO","Auto-generated method stub","\n","       "," }","\n","}","\n"," ","\n"," ","\n"],["\n","ami.db.timer.plugins=com.demo.TestTimerFactory"," ","\n"," ","\n"," ","\n","================","\n","TIMER \n PROCEDURES","\n","================","\n"," ","\n","__SCHEDULE_TIMER \n (TimerName String nonull, Delay long nonull)","\n","runs \n a scheduled execution of timer with TimerName, Delay is in milliseconds \n from now","\n","Example:","\n","CALL \n __SCHEDULE_TIMER(\"t1\",15000);","\n"," ","\n","__SHOW_TIMER_ERROR \n (TimerName String nonull)","\n","shows \n last error of timer with TimerName","\n","Example:","\n","CALL \n __SCHEDULE_TIMER_ERROR(\"t2\");","\n"," ","\n","__RESET_TIMER_STATS \n (TimerName String nonull,ExecutedStats boolean nonull, ErrorStats boolean \n nonull)","\n","resets \n ExecutedCount and/or ErrorCount of timer with TimerName","\n","Example:","\n","CALL \n __RESET_TIMER_STATS(\"t1\", true, false);","\n\n\n","\n    "," ","\n  ","\n\n"]],"2":[["Custom Timer (AMI One, AMI Center)"]],"3":[["Overview"],["Example"],["Java interface (see javadoc for \n details)"," "," "],["Property \n name"],["E","xample - Java Code"],["Example \n - Configuration"]],"id":"266"})