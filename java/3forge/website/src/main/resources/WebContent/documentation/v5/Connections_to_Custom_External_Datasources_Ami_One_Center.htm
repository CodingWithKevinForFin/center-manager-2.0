<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = ".";
    gCommonRootRelPath = ".";
    gTopicId = "10.0_4";
  
//]]></script>

  <script type="text/javascript" src="./template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="./template/scripts/common.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="./template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="./whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="./template/styles/topic.min.css"/>
  <link rel="stylesheet" type="text/css" href="./template/Charcoal_Grey/topicheader.css"/>
  <meta name="topic-status" content="Draft"/>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="OriginalFile" content="AMI Custom Java Plugins.docx"/>
<meta name="generator" content="Adobe RoboHelp 2020"/>
<title>Connections to Custom External Datasources (Ami One, Center)</title>
<link rel="StyleSheet" href="assets/css/AMI_Documentation_Style.css" type="text/css"/>
<style type="text/css">/*<![CDATA[*/
A:visited {
	color: #800080;
}
A:link {
	color: #0000ff;
}
/*]]>*/</style>
</head>

<body class="topicbody">
  <div class="topic-header rh-hide" id="rh-topic-header" onclick="rh._.goToFullLayout()">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Connections to Custom External Datasources (Ami One, Center)">
        <span>Connections to Custom External Datasources (Ami One, Center)</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <span>Click here to see this page in full context</span>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <div>
    <div class="deprecation-container" style="display: flex; justify-content: center; align-items: center; background: #FFCC00; height: 60px;">
      <div class="message" style="color: #000000; font-size: 20px"><span class="warning-sign">⚠</span> This page has been deprecated. Please visit <a class="new-doc-link" href="https://docs.3forge.com" target="_blank">New 3forge Documentation</a> for updated content.</div>
    </div>
  </div>
  <div>
<h1>Connections to Custom External Datasources (AMI One, Center)</h1>
<h2 style="text-decoration: none; "><span>Overview</span></h2>
<p style="margin-bottom: .0001pt;">Connecting to external datasources or 
 systems for accessing and uploading data is at the core of what AMI does. 
 There are dozens of adapters out of the box for well known databases, 
 file formats, etc. Large organizations that have custom databases/storage 
 systems can access them in AMI by implementing a datasource plugin.</p>
<p style="margin-bottom: .0001pt;"> </p>
<p style="margin-bottom: .0001pt;">Each datasource can optionally support 
 the following functionality:</p>
<p style="margin-bottom: .0001pt;"> </p>
<ul style="list-style: disc;">
	<li style="font-size: 11pt;"><p>Providing a list of available tables</p></li>
	<li style="font-size: 11pt;"><p>Providing for a sample of data for 
	 a given table</p></li>
	<li style="font-size: 11pt;"><p>Running a query (Downloading data into 
	 AMI)</p></li>
	<li style="font-size: 11pt;"><p>Uploading data from AMI into the datasource</p></li>
</ul>
<p style="margin-bottom: .0001pt;"> </p>
<p style="margin-bottom: .0001pt;"> </p>
<h2>Java interface (see javadoc for details) <span courier="" style="font-size: 10.0pt; 
													 line-height: 115%;"> </span></h2>
<p style="margin-bottom: .0001pt; font-size: 12pt;"><span class="CourierRed" style="font-size: 12pt;">com.f1.ami.amicommon.AmiDatasourcePlugin</span></p>
<p style="margin-bottom: .0001pt; font-size: 12pt;"><span class="CourierRed" style="font-size: 12pt;">com.f1.ami.amicommon.AmiDatasourceAdapter</span></p>
<p style="margin-bottom: .0001pt;"> </p>
<p style="margin-bottom: .0001pt;"> </p>
<h2 style="text-decoration: none; "><span style="text-decoration: none; ">Property 
 name for front end web access</span></h2>
<p style="margin-bottom: .0001pt; line-height: 115%; font-family: ;"><span courier="" style="font-family: &#39;Courier New&#39;, monospace;">ami.datasource.plugins=</span><i><span courier="" style="font-family: &#39;Courier New&#39;, monospace;">comma_delimited_list_of_fully_qualified_java_class_names</span></i><span courier="" style="font-size: 8.0pt;"> </span></p>
<p style="margin-bottom: .0001pt;"> </p>
<p style="margin-bottom: .0001pt; font-size: 12pt;"> </p>
<h2 style="text-decoration: none; "><span style="text-decoration: none; ">Example 
 Java Code</span></h2>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">package</span></b> 
 <span style="font-family: Consolas;"><u>com.demo</u>;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;">java.util.HashMap;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;">java.util.Map;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;"><b><span style="color: #7F0055; 
														 font-weight: normal;">import</span></b>com.f1.ami.amicommon.AmiDatasourceAdapter;</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;"><b><span style="color: #7F0055; 
														 font-weight: normal;">import</span></b>com.f1.ami.amicommon.AmiDatasourcePlugin;</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;"><b><span style="color: #7F0055; 
														 font-weight: normal;">import</span></b>com.f1.container.ContainerTools;</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;"><b><span style="color: #7F0055; 
														 font-weight: normal;">import</span></b>com.f1.utils.PropertyController;</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">public</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">class</span></b> 
 <span style="font-family: Consolas;"><u>TestDatasourcePlugin</u></span> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">implements</span></b> 
 <span style="font-family: Consolas;">AmiDatasourcePlugin {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">private</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">static</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">final</span></b> 
 <span style="font-family: Consolas;">Map&lt;String, Object&gt;</span> 
 <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
			 font-style: normal;">OPERATORS_MAP</span></i></b> <span style="font-family: Consolas;">=</span> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">new</span></b> 
 <span style="font-family: Consolas;">HashMap&lt;String, Object&gt;();</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">private</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">static</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">final</span></b> 
 <span style="font-family: Consolas;">Map&lt;String, Object&gt;</span> 
 <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
			 font-style: normal;">WHERE_SYNTAX_MAP</span></i></b> <span style="font-family: Consolas;">=</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">new</span></b> 
 <span style="font-family: Consolas;">HashMap&lt;String, Object&gt;();</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">private</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">static</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">final</span></b> 
 <span style="font-family: Consolas;">Map&lt;String, Object&gt;</span> 
 <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
			 font-style: normal;">HELP_MAP</span></i></b> <span style="font-family: Consolas;">=</span> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">new</span></b> 
 <span style="font-family: Consolas;">HashMap&lt;String, Object&gt;();</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">static</span></b> 
 <span style="font-family: Consolas;">{</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
	 font-style: normal;">OPERATORS_MAP</span></i></b><span style="font-family: Consolas;">.put(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;eq&quot;</span><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;=&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
	 font-style: normal;">OPERATORS_MAP</span></i></b><span style="font-family: Consolas;">.put(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;ne&quot;</span><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;!=&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
	 font-style: normal;">OPERATORS_MAP</span></i></b><span style="font-family: Consolas;">.put(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;lt&quot;</span><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;&lt;&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
	 font-style: normal;">OPERATORS_MAP</span></i></b><span style="font-family: Consolas;">.put(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;gte&quot;</span><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;&gt;=&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
	 font-style: normal;">WHERE_SYNTAX_MAP</span></i></b><span style="font-family: Consolas;">.put(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;prefix&quot;</span><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;((&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
	 font-style: normal;">WHERE_SYNTAX_MAP</span></i></b><span style="font-family: Consolas;">.put(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;suffix&quot;</span><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;))&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
	 font-style: normal;">WHERE_SYNTAX_MAP</span></i></b><span style="font-family: Consolas;">.put(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;join&quot;</span><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;) 
 or (&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
	 font-style: normal;">WHERE_SYNTAX_MAP</span></i></b><span style="font-family: Consolas;">.put(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;true&quot;</span><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;true&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">void</span></b> 
 <span style="font-family: Consolas;">init(ContainerTools</span> <span style="font-family: Consolas; color: #6A3E3E;">tools</span><span style="font-family: Consolas;">, 
 PropertyController</span> <span style="font-family: Consolas; color: #6A3E3E;">props</span><span style="font-family: Consolas;">) {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <span style="font-family: Consolas;">String <u>getPluginId()</u> {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <span style="font-family: Consolas; color: #2A00FF;">&quot;TestDatasource&quot;</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <span style="font-family: Consolas;">String getDatasourceDescription() 
 {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <span style="font-family: Consolas; color: #2A00FF;">&quot;Test&quot;</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <span style="font-family: Consolas;">AmiDatasourceAdapter createDatasourceAdapter() 
 {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">new</span></b> 
 <span style="font-family: Consolas;"><u>TestDatasourceAdapter</u>();</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <span style="font-family: Consolas;">String <u>getDatasourceIcon()</u> 
 {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <span style="font-family: Consolas; color: #2A00FF;">&quot;../../../../resources/test.PNG&quot;</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <span style="font-family: Consolas;">String <u>getDatasourceQuoteType()</u> 
 {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <span style="font-family: Consolas; color: #2A00FF;">&quot;\&quot;&quot;</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <span style="font-family: Consolas;">Map&lt;String, Object&gt; <u>getDatasourceOperators()</u> 
 {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
			 font-style: normal;">OPERATORS_MAP</span></i></b><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <span style="font-family: Consolas;">Map&lt;String, Object&gt; <u>getDatasourceWhereClauseSyntax()</u> 
 {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
			 font-style: normal;">WHERE_SYNTAX_MAP</span></i></b><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <span style="font-family: Consolas;">Map&lt;String, Object&gt; <u>getDatasourceHelp()</u> 
 {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <b><i><span style="font-family: Consolas; color: #0000C0; font-weight: normal; 
			 font-style: normal;">HELP_MAP</span></i></b><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: 115%; font-size: 8pt;"><span style="font-family: Consolas;">}</span><span courier=""> </span></p>
<p style="margin-bottom: .0001pt; font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">package</span></b> 
 <span style="font-family: Consolas;"><u>com.demo</u>;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;">java.util.ArrayList;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;">java.util.List;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;"><b><span style="color: #7F0055; 
														 font-weight: normal;">import</span></b>com.f1.ami.amicommon.AmiDatasourceAdapter;</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;"><b><span style="color: #7F0055; 
														 font-weight: normal;">import</span></b>com.f1.ami.amicommon.AmiDatasourceException;</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;"><u>com.f1.ami.amicommon.AmiDatasourceTracker</u>;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;"><u>com.f1.ami.amicommon.AmiServiceLocator</u>;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;"><u>com.f1.ami.amicommon.msg.AmiCenterQuery</u>;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;"><u>com.f1.ami.amicommon.msg.AmiCenterQueryResult</u>;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;"><u>com.f1.ami.amicommon.msg.AmiCenterUpload</u>;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;">com.f1.ami.amicommon.msg.AmiDatasourceTable;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;">com.f1.base.Columns;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">import</span></b> 
 <span style="font-family: Consolas;">com.f1.base.Row;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;"><b><span style="color: #7F0055; 
														 font-weight: normal;">import</span></b>com.f1.container.ContainerTools;</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;"><b><span style="color: #7F0055; 
														 font-weight: normal;">import</span></b>com.f1.utils.structs.table.BasicTable;</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><b><span style="font-family: Consolas; color: #7F0055; 
								 font-weight: normal;">public</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">class</span></b> 
 <span style="font-family: Consolas;"><u>TestDatasourceAdapter</u></span> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">implements</span></b> 
 <span style="font-family: Consolas;">AmiDatasourceAdapter {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">private</span></b> 
 <span style="font-family: Consolas;">ContainerTools</span> <span style="font-family: Consolas; 
	 color: #0000C0;">tools</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">private</span></b> 
 <span style="font-family: Consolas;"><u>AmiServiceLocator</u></span> <span style="font-family: Consolas; color: #0000C0;">serviceLocator</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">void</span></b> 
 <span style="font-family: Consolas;">init(ContainerTools</span> <span style="font-family: Consolas; color: #6A3E3E;">tools</span><span style="font-family: Consolas;">, 
 <u>AmiServiceLocator</u></span> <span style="font-family: Consolas; color: #6A3E3E;">serviceLocator</span><span style="font-family: Consolas;">)</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">throws</span></b><span style="font-family: Consolas;">AmiDatasourceException {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">this</span></b><span style="font-family: Consolas;">.</span><span style="font-family: Consolas; 
													 color: #0000C0;">tools</span> 
 <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">tools</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><u><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">this</span></u></b><u><span style="font-family: Consolas;">.</span></u><u><span style="font-family: Consolas; 
														 color: #0000C0;">serviceLocator</span></u> 
 <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">serviceLocator</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b><span style="font-family: Consolas;">List&lt;AmiDatasourceTable&gt; getTables(<u>AmiDatasourceTracker</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">debugSink</span><span style="font-family: Consolas;">)</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">throws</span></b><span style="font-family: Consolas;">AmiDatasourceException {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                List&lt;AmiDatasourceTable&gt;</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">tables</span> <span style="font-family: Consolas;">=</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">new</span></b><span style="font-family: Consolas;">ArrayList&lt;AmiDatasourceTable&gt;();</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                AmiDatasourceTable</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">table</span> <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #0000C0;">tools</span><span style="font-family: Consolas;">.nw(AmiDatasourceTable.</span><b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">class</span></b><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">table</span><span style="font-family: Consolas;">.<u>setCollectionName</u>(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;master&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">table</span><span style="font-family: Consolas;">.setName(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;accounts&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">table</span><span style="font-family: Consolas;">.setCustomQuery(</span><span style="font-family: Consolas; color: #2A00FF;">&quot;SELECT * FROM 
 accounts WHERE ${WHERE}&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">tables</span><span style="font-family: Consolas;">.add(</span><span style="font-family: Consolas; 
														 color: #6A3E3E;">table</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <span style="font-family: Consolas; color: #6A3E3E;">tables</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b><span style="font-family: Consolas;">List&lt;AmiDatasourceTable&gt; getPreviewData(List&lt;AmiDatasourceTable&gt;</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">tables</span><span style="font-family: Consolas;">,</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">int</span></b> 
 <span style="font-family: Consolas; color: #6A3E3E;">previewCount</span><span style="font-family: Consolas;">, <u>AmiDatasourceTracker</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">debugSink</span><span style="font-family: Consolas;">)</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">throws</span></b><span style="font-family: Consolas;">AmiDatasourceException {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">for</span></b> 
 <span style="font-family: Consolas;">(</span><b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">int</span></b> 
 <span style="font-family: Consolas; color: #6A3E3E;">i</span> <span style="font-family: Consolas;">= 
 0;</span> <span style="font-family: Consolas; color: #6A3E3E;">i</span> 
 <span style="font-family: Consolas;">&lt;</span> <span style="font-family: Consolas; 
														 color: #6A3E3E;">tables</span><span style="font-family: Consolas;">.size();</span> <span style="font-family: Consolas; 
															 color: #6A3E3E;">i</span><span style="font-family: Consolas;">++) {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                        AmiDatasourceTable</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">table</span> <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">tables</span><span style="font-family: Consolas;">.get(</span><span style="font-family: Consolas; 
														 color: #6A3E3E;">i</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                        <u>AmiCenterQuery</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">q</span> <span style="font-family: Consolas;">=</span> 
 <span style="font-family: Consolas; color: #0000C0;">tools</span><span style="font-family: Consolas;">.<u>nw</u>(<u>AmiCenterQuery</u>.</span><b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">class</span></b><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                       </span> <span style="font-family: Consolas; color: #6A3E3E;">q</span><span style="font-family: Consolas;">.setQuery(</span><span style="font-family: Consolas; color: #6A3E3E;">table</span><span style="font-family: Consolas;">.getCustomQuery());</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                       </span> <span style="font-family: Consolas; color: #6A3E3E;">q</span><span style="font-family: Consolas;">.setLimit(</span><span style="font-family: Consolas; color: #6A3E3E;">previewCount</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                        <u>AmiCenterQueryResult</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">rs</span> <span style="font-family: Consolas;">=</span> 
 <span style="font-family: Consolas; color: #0000C0;">tools</span><span style="font-family: Consolas;">.<u>nw</u>(<u>AmiCenterQueryResult</u>.</span><b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">class</span></b><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                        processQuery(</span><span style="font-family: Consolas; color: #6A3E3E;">q</span><span style="font-family: Consolas;">,</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">rs</span><span style="font-family: Consolas;">,</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">debugSink</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                        List&lt;Columns&gt;</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">results</span> <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">rs</span><span style="font-family: Consolas;">.getTables();</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">if</span></b> 
 <span style="font-family: Consolas;">(</span><span style="font-family: Consolas; 
													 color: #6A3E3E;">results</span><span style="font-family: Consolas;">.size() &gt; 0)</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                               </span> <span style="font-family: Consolas; color: #6A3E3E;">table</span><span style="font-family: Consolas;">.<u>setPreviewData</u>(</span><span style="font-family: Consolas; color: #6A3E3E;">results</span><span style="font-family: Consolas;">.get(</span><span style="font-family: Consolas; 
														 color: #6A3E3E;">i</span><span style="font-family: Consolas;">));</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">                }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <span style="font-family: Consolas; color: #6A3E3E;">tables</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <span style="font-family: Consolas;"><u>AmiServiceLocator</u> <u>getServiceLocator()</u> 
 {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <u><span style="font-family: Consolas; color: #0000C0;">serviceLocator</span></u><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">void</span></b> 
 <span style="font-family: Consolas;">processQuery(<u>AmiCenterQuery</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">query</span><span style="font-family: Consolas;">, <u>AmiCenterQueryResult</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">resultSink</span><span style="font-family: Consolas;">, <u>AmiDatasourceTracker</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">debugSink</span><span style="font-family: Consolas;">)</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">throws</span></b> 
 <span style="font-family: Consolas;">AmiDatasourceException {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                String</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">queryStatement</span> 
 <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">query</span><span style="font-family: Consolas;">.getQuery();</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #3F7F5F;">// Do something with 
 query statement</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                List&lt;Columns&gt;</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">result</span> <span style="font-family: Consolas;">=</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">new</span></b><span style="font-family: Consolas;">ArrayList&lt;Columns&gt;();</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                BasicTable</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">table</span> <span style="font-family: Consolas;">=</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">new</span></b> 
 <span style="font-family: Consolas;">BasicTable();</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                String</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">id</span> <span style="font-family: Consolas;">=</span> 
 <span style="font-family: Consolas; color: #2A00FF;">&quot;id&quot;</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                String</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">reputation</span> 
 <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;reputation&quot;</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                String</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">isPaid</span> <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #2A00FF;">&quot;isPaid&quot;</span><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">table</span><span style="font-family: Consolas;">.addColumn(String.</span><b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">class</span></b><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">id</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">table</span><span style="font-family: Consolas;">.addColumn(Integer.</span><b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">class</span></b><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">reputation</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">bt</span><span style="font-family: Consolas;">.addColumn(Boolean.</span><b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">class</span></b><span style="font-family: Consolas;">,</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">isPaid</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                Row</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">row</span> <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">bt</span><span style="font-family: Consolas;">.newRow(</span><span style="font-family: Consolas; 
														 color: #2A00FF;">&quot;superman123&quot;</span><span style="font-family: Consolas;">, 150,</span> <b><span style="font-family: Consolas; 
															 color: #7F0055; 
															 font-weight: normal;">true</span></b><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">bt</span><span style="font-family: Consolas;">.getRows().add(</span><span style="font-family: Consolas; color: #6A3E3E;">row</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">                Row</span> 
 <span style="font-family: Consolas; color: #6A3E3E;">row2</span> <span style="font-family: Consolas;">=</span> <span style="font-family: Consolas; 
													 color: #6A3E3E;">bt</span><span style="font-family: Consolas;">.newRow(</span><span style="font-family: Consolas; 
														 color: #2A00FF;">&quot;trucker66&quot;</span><span style="font-family: Consolas;">, 400,</span> <b><span style="font-family: Consolas; 
															 color: #7F0055; 
															 font-weight: normal;">true</span></b><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">bt</span><span style="font-family: Consolas;">.getRows().add(</span><span style="font-family: Consolas; color: #6A3E3E;">row2</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <span style="font-family: Consolas; color: #6A3E3E;">resultSink</span><span style="font-family: Consolas;">.setTables(</span><span style="font-family: Consolas; 
															 color: #6A3E3E;">result</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">boolean</span></b> 
 <span style="font-family: Consolas;"><u>cancelQuery()</u> {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">return</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">false</span></b><span style="font-family: Consolas;">;</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <span style="font-family: Consolas; color: #646464;">@Override</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">       </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">public</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">void</span></b> 
 <span style="font-family: Consolas;">processUpload(<u>AmiCenterUpload</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">upload</span><span style="font-family: Consolas;">, <u>AmiCenterQueryResult</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">resultsSink</span><span style="font-family: Consolas;">, <u>AmiDatasourceTracker</u></span> 
 <span style="font-family: Consolas; color: #6A3E3E;">tracker</span><span style="font-family: Consolas;">)</span> <b><span style="font-family: Consolas; 
														 color: #7F0055; 
														 font-weight: normal;">throws</span></b><span style="font-family: Consolas;">AmiDatasourceException {</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"><span style="font-family: Consolas;">               </span> <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">throw</span></b> 
 <b><span style="font-family: Consolas; color: #7F0055; font-weight: normal;">new</span></b><span style="font-family: Consolas;">AmiDatasourceException(AmiDatasourceException.<u>UNSUPPORTED_OPERATION_ERROR</u>,</span> 
 <span style="font-family: Consolas; color: #2A00FF;">&quot;Upload to datasource&quot;</span><span style="font-family: Consolas;">);</span></p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">        }</p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; line-height: normal; text-autospace: none; 
	 font-family: Consolas; font-size: 8pt;">}</p>
<p style="margin-bottom: .0001pt; font-size: 8pt;"> </p>
<p style="margin-bottom: .0001pt; font-size: 8pt;"> </p>
<h2 style="text-decoration: none; "><span style="text-decoration: none; ">Example 
 - Configuration</span></h2>
<p style="margin-bottom: .0001pt; font-family: &#39;Courier New&#39;, monospace;"><span class="CourierBlueStyle">ami.datasource.plugins=com.demo.TestDatasourcePlugin</span></p>


</div><div>
    <p> </p>
  </div>

</body></html>