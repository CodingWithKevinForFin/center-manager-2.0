rh._.exports({"0":[["AMI Cheat Sheet"]],"1":[["\n  ","\n    ","\n      ","⚠"," This page has been deprecated. Please visit ","New 3forge Documentation"," for updated content.","\n    ","\n  ","\n  ","\n  "],["\n  ","For this demonstration we need to include"," ","company.db"," ","and"," ","university.db"," ","sqlite databases as datasources into AMI. For better comprehension, the examples should be executed in the order presented"," ","\n  "," ","\n  "],["\n  "," ","\n  ","CREATE TABLE"," ","BusinessTeam"," ","(name string, job string, salary int);","\n  "," ","\n  ","CREATE"," ","PUBLIC"," ","TABLE"," ","ManagementTeam"," ","(name string);","\n  "," ","\n  ","CREATE TABLE"," ","IF ","NOT EXISTS"," ","OpenJobs"," ","(job string, id int);","\n  "," ","\n  ","CREATE"," ","TEMP"," ","TABLE"," ","BonusJobs"," ","(job string, id int, bonus double);","\n  "," ","\n  ","CREATE TABLE"," ","Graduates"," ","(name string, degree string);","\n  ","\n  "],["\n  "," ","\n  "],["\n  "," ","\n  ","CREATE TABLE"," ","SoftwareTeam"," ","AS SELECT"," ","name, ","job, ","salary"," ","FROM"," ","Team"," ","WHERE job"," ","IN"," ","(\"Programming\", \"Testing\", ","\"DevOps\");","\n  "," ","\n  ","CREATE TABLE"," ","AnalyzeBudget"," ","AS ANALYZE"," ","name, ","job, salary,"," ","avg","(win.salary)"," ","AS"," ","avgSalary,"," ","median","(win.salary)"," ","AS"," ","medianSalary, salary -"," ","median","(win.salary)"," ","AS ","diff"," ","FROM"," ","SoftwareTeam"," ","WINDOW"," ","win"," ","ON"," ","true;","\n  "," ","\n  ","CREATE TABLE"," ","PrepareBudget"," ","AS PREPARE"," ","name, ","job, salary,"," ","stack","(salary),"," ","norm","(salary) FROM"," ","SoftwareTeam"," ","ORDER BY"," ","salary"," ","ASC PARTITION BY"," ","job;","\n  "," ","\n  ","CREATE TABLE"," ","DescTable"," ","AS DESCRIBE"," ","TABLE"," ","OpenJobs",";","\n  "," ","\n  ","CREATE TABLE"," ","ShowTable"," ","AS SHOW"," ","TEMP"," ","TABLES",";","\n  "," ","\n  ","CREATE PROCEDURE PrefixFind OFTYPE AMISCRIPT ","USE arguments=\"string prefix, string ","col, string tb\" script=\"SELECT ","* FROM ${tb} WHERE ${col} ~~ ","\\\"^${prefix}\\\"\";","\n  "," ","\n  ","CREATE TABLE"," ","PrefixTeam"," ","AS CALL"," ","PrefixFind(\"Jo\", \"name\", \"Team\");","\n  ","\n  "],["\n  "," ","\n  ","INSERT INTO"," ","OpenJobs"," ","VALUES"," ","(\"Programming\", ","1),","(\"Sales\", ","2), ","(\"Management\", ","3), ","(\"Finance\", ","4), (\"DevOps\", 5), (\"Fax\", -1)"," ","LIMIT"," ","5;","\n  "," ","\n  ","Double discountFactor1 = 1.03, discountFactor2 ","= 1.05, discountFactor3 = 1.09, discountFactor6 ","= 1.08;","\n  "," ","\n  ","Double bonusAmount1 = 25, bonusAmount2 ","= 20, bonusAmount3 = 30, bonusAmount6 = 15;","\n  "," ","\n  ","INSERT INTO"," ","BonusJobs"," ","VALUES"," ","(\"Programming\", ","1,"," ","power","(bonusAmount1, ","discountFactor1)), ","(\"Sales\", 2,"," ","power","(bonusAmount2, discountFactor2)), ","(\"Management\", 3,"," ","power","(bonusAmount3, discountFactor3)), (\"Machine Learning,AI\", 6,"," ","power","(bonusAmount6, discountFactor6));","\n  "," ","\n  ","INSERT INTO"," ","Graduates"," ","VALUES"," ","(\"Jeff\", ","\"Programming\"), ","(\"Peter\", ","\"Machine ","Learning\"), ","(\"Jennifer\", ","\"Finance\"), ","(\"Michelle\", ","\"Sales\");","\n  ","\n  "],["\n  "," ","\n  ","INSERT INTO"," ","Team"," ","FROM"," ","SELECT"," ","name, degree, 80 FROM"," ","Graduates",";","\n  "," ","\n  ","INSERT INTO"," ","ManagementTeam"," ","FROM"," ","SELECT"," ","name from"," ","Team"," ","WHERE job == \"Management\";","\n  "," ","\n  ","INSERT INTO"," ","BusinessTeam"," ","FROM SELECT"," ","name, job, salary"," ","FROM"," ","Team"," ","WHERE job"," ","IN"," ","(\"Management\", \"Sales\", \"Operations\");","\n  "," ","\n  ","INSERT INTO"," ","Team"," ","USE"," ","ds = \"university\""," ","EXECUTE"," ","SELECT name,"," ","subject, 2 * salary FROM"," ","Professors",";","\n  "," ","\n  ","INSERT INTO"," ","AnalyzeBudget"," ","FROM ANALYZE"," ","name, job, salary,"," ","avg","(win.salary)"," ","AS"," ","avgSalary,"," ","median","(win.salary)"," ","AS"," ","medianSalary, salary -"," ","median","(win.salary)"," ","AS"," ","diff"," ","FROM"," ","BusinessTeam"," ","WINDOW"," ","win"," ","ON"," ","true;","\n  "," ","\n  ","INSERT INTO"," ","PrepareBudget"," ","FROM"," ","PREPARE"," ","name, job, salary,"," ","stack","(salary),"," ","norm","(salary) FROM"," ","BusinessTeam"," ","ORDER BY"," ","salary"," ","ASC PARTITION BY"," ","job;","\n  "," ","\n  ","INSERT INTO"," ","DescTable"," ","FROM DESCRIBE"," ","TABLE"," ","Team",";","\n  "," ","\n  ","I","NSERT INTO"," ","ShowTable"," ","FROM SHOW"," ","PUBLIC"," ","TABLES;","\n  "," ","\n  ","INSERT INTO"," ","PrefixTeam"," ","FROM CALL"," ","PrefixFind(\"Ma\", \"name\", \"Team\");","\n  "," ","\n  "," ","\n  "],["\n  "," ","\n  ","ALTER TABLE"," ","Team"," ","MODIFY"," ","salary"," ","AS"," ","salary BigInteger;","\n  "," ","\n  ","ALTER TABLE"," ","Graduates"," ","RENAME"," ","degree"," ","TO"," ","profession;","\n  "," ","\n  ","ALTER TABLE"," ","Graduates"," ","ADD"," ","income int"," ","BEFORE"," ","profession;","\n  "," ","\n  ","ALTER TABLE"," ","Graduates"," ","DROP"," ","income;","\n  "," ","\n  ","ALTER TABLE"," ","Graduates"," ","ADD"," ","income int;","\n  "," ","\n  "],["\n  "," ","\n  ","RENAME TABLE"," ","ManagementTeam"," ","TO"," ","Leaders",";","\n  ","\n  "],["\n  "," ","\n  ","DESCRIBE TABLE"," ","Team",";","\n  ","\n  "],["\n  "," ","\n  ","SELECT *"," ","FROM"," ","Team",";","\n  "," ","\n  ","SELECT *"," ","FROM"," ","Team"," ","LIMIT"," ","3",";","\n  "," ","\n  ","SELECT *"," ","FROM"," ","Team"," ","LIMIT"," ","3, 7",";","\n  "," ","\n  ","SELECT * FROM"," ","Team"," ","WHERE"," ","job == \"Programming\""," ","OR"," ","job == \"Testing\";","\n  "," ","\n  ","S","ELECT * FROM"," ","Team"," ","WHERE"," ","job"," ","IN"," ","(\"Finance\", \"Machine Learning\");","\n  "," ","\n  ","SELECT * FROM"," ","Team"," ","WHERE"," ","salary < 100;","\n  "," ","\n  ","SELECT * FROM"," ","Team"," ","WHERE"," ","job == \"Programming\""," ","AND"," ","salary == 100;","\n  "," ","\n  ","SELECT * FROM"," ","Team"," ","WHERE"," ","(job, salary)"," ","IN"," ","(\"Programming\", 100);","\n  "," ","\n  ","SELECT * FROM"," ","Team"," ","ORDER BY"," ","salary"," ","ASC",";","\n  "," ","\n  ","SELECT"," ","sum","(salary)"," ","AS"," ","Budget FROM"," ","Team",";","\n  "," ","\n  ","SELECT job,"," ","count","(*)"," ","AS"," ","numberOfEmployees, sum(salary)"," ","AS"," ","jobBudget, avg(salary)"," ","AS"," ","jobAvgSalary FROM"," ","Team"," ","GROUP BY"," ","job"," ","ORDER BY"," ","numberOfEmployees;","\n  "," ","\n  ","SELECT job,"," ","count","(*)"," ","AS"," ","numberOfEmployees, sum(salary)"," ","AS"," ","jobBudget, avg(salary)"," ","AS"," ","jobAvgSalary FROM"," ","Team"," ","GROUP BY"," ","job"," ","HAVING"," ","numberOfEmployees >=2;","\n  "," ","\n  ","SELECT *"," ","EXCEPT"," ","(salary) from"," ","Team",";","\n  "," ","\n  ","SELECT job FROM"," ","Team"," ","GROUP BY"," ","job;","\n  "," ","\n  ","SELECT * FROM"," ","OpenJobs",","," ","BonusJobs"," ","WHERE"," ","OpenJobs",".id =="," ","BonusJobs",".id;","\n  "," ","\n  ","SELECT"," ","OpenJobs",".job AS job,"," ","OpenJobs",".id AS id, bonus FROM"," ","OpenJobs",","," ","BonusJobs"," ","WHERE"," ","OpenJobs",".id =="," ","BonusJobs",".id;","\n  "," ","\n  ","SELECT * FROM"," ","Team"," ","WHERE"," ","job"," ","IN"," ","(SELECT job FROM"," ","OpenJobs",");","\n  "," ","\n  ","SELECT * FROM"," ","OpenJobs"," ","JOIN"," ","BonusJobs"," ","on"," ","OpenJobs",".id =="," ","BonusJobs",".id;","\n  "," ","\n  ","SELECT * FROM"," ","OpenJobs"," ","OUTER JOIN"," ","BonusJobs"," ","on"," ","OpenJobs",".id =="," ","BonusJobs",".id;","\n  "," ","\n  ","SELECT * FROM"," ","OpenJobs"," ","OUTER ONLY JOIN"," ","BonusJobs"," ","on"," ","OpenJobs",".id =="," ","BonusJobs",".id;","\n  "," ","\n  ","SELECT * FROM"," ","OpenJobs"," ","LEFT"," ","JOIN"," ","BonusJobs"," ","on"," ","OpenJobs",".id =="," ","BonusJobs",".id;","\n  "," ","\n  ","SELECT * FROM"," ","OpenJobs"," ","LEFT"," ","ONLY"," ","JOIN"," ","BonusJobs"," ","on"," ","OpenJobs",".id =="," ","BonusJobs",".id;","\n  "," ","\n  ","SELECT * FROM"," ","OpenJobs"," ","RIGHT"," ","JOIN"," ","BonusJobs"," ","on"," ","OpenJobs",".id =="," ","BonusJobs",".id;","\n  "," ","\n  ","SELECT * FROM"," ","OpenJobs"," ","RIGHT"," ","ONLY"," ","JOIN"," ","BonusJobs"," ","on"," ","OpenJobs",".id =="," ","BonusJobs",".id;","\n    ","\n    ","SELECT * FROM"," ","BonusJobs"," ","UNPACK"," ","job"," ","ON"," ","\",\";","\n  ","\n  "," ","\n  "," ","\n  "],["\n  "," ","\n  ","UPDATE"," ","Graduates"," ","SET"," ","income = 50;","\n  "," ","\n  ","UPDATE"," ","Team"," ","SET"," ","salary = salary + 5"," ","WHERE"," ","job == \"Sales\";","\n  "," ","\n  ","UPDATE"," ","Team"," ","JOIN"," ","BonusJobs"," ","ON"," ","BonusJobs",".job =~"," ","Team",".","job"," ","SET"," ","salary = salary + bonus",";","\n  "," ","\n  "," ","\n  "],["\n  "," ","\n  ","USE"," ","ds = \"company\""," ","EXECUTE"," ","SELECT * from"," ","Employees",";","\n  "," ","\n  ","CREATE TABLE"," ","Students"," ","AS"," ","USE"," ","ds = \"university\""," ","EXECUTE"," ","SELECT * from"," ","Students",";","\n  "," ","\n  "," ","\n  "],["\n  "," ","\n  ","USE"," ","ds = \"university\""," ","SHOW"," ","TABLES;"," ","\n  "," ","\n  "],["\n  "," ","\n  ","U","SE"," ","ds = \"company\""," ","INSERT INTO"," ","Employees"," ","VALUES"," ","(\"Kevin\", \"DevOps\", 110);","\n  "," ","\n  ","USE"," ","ds = \"company\""," ","INSERT INTO"," ","Employees"," ","SELECT"," ","name, profession",", 80"," ","FROM"," ","Graduates",";","\n  "," ","\n  ","USE"," ","ds = \"company\""," ","INSERT INTO"," ","Employees"," ","USE"," ","ds = \"university\""," ","EXECUTE"," ","SELECT name, subject, 2 * salary FROM"," ","Professors",";","\n  "," ","\n  "," ","\n  "],["\n  "," ","\n  ","SYNC INTO"," ","Graduates"," ","FROM SELECT"," ","* FROM Team WHERE salary < 90;","\n  "," ","\n  ","S","YNC INTO"," ","Graduates"," ","USE"," ","ds = \"university\""," ","EXECUTE"," ","SELECT name, subject, 80 FROM"," ","Students",";","\n  "," ","\n  ","SYNC INTO"," ","AnalyzeBudget"," ","FROM ANALYZE"," ","name, job, salary,"," ","avg","(win.salary)"," ","AS"," ","avgSalary,"," ","median","(win.salary)"," ","AS"," ","medianSalary, salary -"," ","median","(win.salary)"," ","AS"," ","diff"," ","FROM"," ","Team"," ","WINDOW"," ","win"," ","ON"," ","true;","\n  "," ","\n  ","SYNC INTO"," ","PrepareBudget"," ","PREPARE"," ","name, job, salary,"," ","stack","(salary),"," ","norm","(salary) FROM"," ","Team"," ","ORDER BY"," ","salary"," ","ASC PARTITION BY"," ","job;","\n  "," ","\n  "," ","\n  "],["\n  "," ","\n  "],["\n  "],["\n  "],["\n  "," ","\n  "],["\n  "," ","\n  "],["\n  "," ","\n  ","DELETE FROM ","OpenJobs"," ","JOIN"," ","BonusJobs"," ","ON"," ","OpenJobs.","id ","=="," ","BonusJobs",".id;","\n  "," ","\n  ","DELETE FROM ","Team"," ","JOIN"," ","OpenJobs"," ","ON"," ","Team",".job ","=="," ","OpenJobs",".job;","\n  "," ","\n  ","DELETE FROM ","SoftwareTeam"," ","LEFT ONLY JOIN ","BonusJobs"," ","ON ","SoftwareTeam.","job == ","BonusJobs",".job;","\n  ","\n  "],["\n  "," ","\n  ","TRUNCATE TABLE ","SoftwareTeam",";","\n  ","\n  "],["\n  "," ","\n  ","DROP TABLE"," ","Graduates, ","BonusJobs",";","\n\n","\n    "," ","\n  ","\n\n"]],"2":[["AMI Cheat Sheet"]],"3":[["CREATE"],["CREATE AS"],["CREATE TABLE"," ","Team"," ","AS"," ","USE"," ","ds = \"company\""," ","EXECUTE"," ","SELECT ","* from Employees",";"],["INSERT VALUES"],["INSERT [FROM]"],["ALTER"],["RENAME"],["DESCRIBE"],["SELECT"],["UPDATE"],["USE ... EXECUTE"],["USE ... SHOW"],["USE … INSERT"],["SYNC"],["DELETE FROM"," "],["DELETE FROM ","Graduates",";"],[" "],["DELETE FROM ","OpenJobs"," ","WHERE"," ","id == 1;"],["DELETE FROM ","Team"," ","WHERE"," ","job == \"Sales\""," ","LIMIT"," ","2;"],["DELETE FROM ","Team"," ","WHERE"," ","job == ","\"Programming\""," ","LIMIT"," ","2,1;"],["TRUNCATE"],["DROP"]],"id":"273"})